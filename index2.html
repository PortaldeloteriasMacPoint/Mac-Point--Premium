<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal de Loterias Mac Point</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>

    <script>
        // Configura√ß√£o do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyAO3As6jMMmENtzaK9zlDADbpS9UlNxx8o",
            authDomain: "mac-projeto-4e552.firebaseapp.com",
            projectId: "mac-projeto-4e552",
            storageBucket: "mac-projeto-4e552.appspot.com",
            messagingSenderId: "537330451519",
            appId: "1:537330451519:web:5a1b4c921119b5ee98e48a"
        };

        firebase.initializeApp(firebaseConfig);

        // Exibir apenas "Carregando..." antes da autentica√ß√£o
        document.body.innerHTML = "<h1 style='text-align:center;'>Carregando...</h1>";

        // Fun√ß√£o para verificar a autentica√ß√£o do usu√°rio
        firebase.auth().onAuthStateChanged(user => {
            if (!user) {
                // Usu√°rio n√£o autenticado ‚Üí Redireciona imediatamente para a p√°gina de login
                window.location.href = "login.html";
            } else {
                // Confirma a autentica√ß√£o e verifica se o usu√°rio foi removido
                user.getIdToken(true)
                    .then(() => user.reload()) // Atualiza os dados do usu√°rio
                    .then(() => {
                        if (!firebase.auth().currentUser) {
                            firebase.auth().signOut();
                            window.location.href = "login.html";
                        } else {
                            // üîπ Usu√°rio autenticado ‚Üí Carrega o conte√∫do seguro
                            loadContent();
                        }
                    })
                    .catch(error => {
                        console.error("Erro na autentica√ß√£o:", error);
                        firebase.auth().signOut();
                        window.location.href = "login.html";
                    });
            }
        });

        // Fun√ß√£o que carrega o conte√∫do da p√°gina apenas se o usu√°rio for autenticado
        function loadContent() {
            document.body.innerHTML = `
                <div class="top-bar">
                    <span class="menu-icon" onclick="toggleMenu()">‚ò∞</span>
                    Portal de Loterias Mac Point
                </div>
                <div class="sidebar" id="sidebar">
                    <h2>Menu</h2>
                    <button onclick="showSection('home')">In√≠cio</button>
                    <button onclick="showSection('about')">Sobre N√≥s</button>
                    <button onclick="showSection('contact')">Contato</button>
                    <h2>Outro Servi√ßo</h2>
                    <button onclick="toggleSubMenu()">Mostrar √çcones</button>
                    <div class="submenu" id="submenu">
                        <span onclick="openPage('configuracoes.html')">‚öôÔ∏è</span>
                        <span onclick="openPage('eventos.html')">ü™©</span>
                        <span onclick="openPage('documentos.html')">üìö</span>
                        <span onclick="openPage('anuncios.html')">üì¢</span>
                        <span onclick="openPage('alvo.html')">üéØ</span>
                        <span onclick="openPage('jogos.html')">üé∞</span>
                    </div>
                </div>
                <div id="home" class="content active">
                    <h1>P√°gina Inicial</h1>
                    <p>Bem-vindo ao Portal de Loterias Mac Point!</p>
                </div>
                <div id="about" class="content">
                    <h1>Sobre N√≥s</h1>
                    <p>Informa√ß√µes sobre nossa equipe e miss√£o.</p>
                </div>
                <div id="contact" class="content">
                    <h1>Contato</h1>
                    <p>Entre em contato conosco atrav√©s do formul√°rio abaixo.</p>
                </div>
                <footer id="footer">¬© 2025 Portal de Loterias Mac Point</footer>
            `;
        }

        // Fun√ß√£o para mostrar ou ocultar as se√ß√µes no menu lateral
        function showSection(section) {
            const sections = document.querySelectorAll('.content');
            sections.forEach(sec => {
                if (sec.id === section) {
                    sec.classList.add('active');
                } else {
                    sec.classList.remove('active');
                }
            });
        }

        // Fun√ß√£o para abrir novas p√°ginas ao clicar nos √≠cones do submenu
        function openPage(page) {
            window.location.href = page;
        }

        // Fun√ß√£o para alternar a visibilidade do menu lateral
        function toggleMenu() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('active');
        }

        // Fun√ß√£o para alternar a visibilidade do submenu
        function toggleSubMenu() {
            const submenu = document.getElementById('submenu');
            submenu.classList.toggle('active');
        }
    </script>

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: sans-serif; }
        body { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; background: #f0f0f0; }
        .top-bar { position: fixed; top: 0; width: 100%; height: 60px; background: linear-gradient(to right, #004d00, #00cc66); display: flex; align-items: center; justify-content: space-between; padding: 0 15px; color: white; font-size: 20px; font-weight: bold; }
        .menu-icon { font-size: 30px; cursor: pointer; }
        .sidebar { position: fixed; left: -250px; top: 0; width: 250px; height: 100%; background: #004d00; color: white; padding: 20px; transition: 0.3s; overflow-y: auto; }
        .sidebar.active { left: 0; }
        .sidebar h2 { margin-bottom: 15px; }
        .sidebar button { width: 100%; padding: 10px; background: black; color: white; border: none; margin-bottom: 10px; cursor: pointer; }
        .content { display: none; padding: 20px; text-align: center; }
        .content.active { display: block; }
        .submenu { display: none; }
        .submenu.active { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px; }
        .submenu span { font-size: 30px; cursor: pointer; }
        footer { position: fixed; bottom: 0; width: 100%; height: 40px; background: black; color: white; text-align: center; line-height: 40px; }
    </style>
</head>
<body>
</body>
</html>


